
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A guided introduction to array programming languages">
      
      
      
        <link rel="canonical" href="https://semperos.github.io/ArrayLangCourse/bqn/array-logic-data-driven-conditionals/">
      
      
        <link rel="prev" href="../fns-and-assignment/">
      
      
        <link rel="next" href="../../j/basic-syntax-and-arithmetic/">
      
      <link rel="icon" href="../../img/favicon-32.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.3">
    
    
      
        <title>Array Logic and Data-driven Conditionals - Array Languages Course</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6b71719e.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../style/main.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="deep-orange">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#array-logic-and-data-driven-conditionals" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Array Languages Course" class="md-header__button md-logo" aria-label="Array Languages Course" data-md-component="logo">
      
  <img src="../../img/alc-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Array Languages Course
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Array Logic and Data-driven Conditionals
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Array Languages Course" class="md-nav__button md-logo" aria-label="Array Languages Course" data-md-component="logo">
      
  <img src="../../img/alc-logo.png" alt="logo">

    </a>
    Array Languages Course
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        About
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" tabindex="0" aria-expanded="false">
          Dyalog APL
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Dyalog APL" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Dyalog APL
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dyalog/basic-syntax-and-arithmetic/" class="md-nav__link">
        Basic syntax
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dyalog/dfns-and-assignment/" class="md-nav__link">
        Dfns and Assignment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dyalog/array-logic-data-driven-conditionals/" class="md-nav__link">
        Array Logic and Data-driven Conditionals
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dyalog/multidimensional-and-nested-arrays/" class="md-nav__link">
        Multidimensional and Nested Arrays
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dyalog/cells-and-axes/" class="md-nav__link">
        Cells and Axes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dyalog/finding-and-replacing-values/" class="md-nav__link">
        Finding and Replacing Values
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dyalog/selecting-from-arrays/" class="md-nav__link">
        Selecting from Arrays
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dyalog/broken-keyboard-problems/" class="md-nav__link">
        Broken Keyboard Problems
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dyalog/loops-and-recursion/" class="md-nav__link">
        Loops and Recursion
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dyalog/Assignment/" class="md-nav__link">
        Extra Assignment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dyalog/Workspaces/" class="md-nav__link">
        Workspace Basics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dyalog/Namespaces/" class="md-nav__link">
        Namespaces and Other Objects
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dyalog/Help/" class="md-nav__link">
        Getting Help
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dyalog/user-defined-functions/" class="md-nav__link">
        User-defined Functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dyalog/Operators/" class="md-nav__link">
        Operators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dyalog/Quad%20names/" class="md-nav__link">
        Quad Names
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dyalog/error-handling-and-debugging/" class="md-nav__link">
        Error Handling and Debugging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dyalog/Data/" class="md-nav__link">
        Data IO
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dyalog/Code/" class="md-nav__link">
        Code IO
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dyalog/Interfaces/" class="md-nav__link">
        External Interfaces
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dyalog/Quirks/" class="md-nav__link">
        Historical Quirks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dyalog/Interpreter-internals/" class="md-nav__link">
        Interpreter Internals
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dyalog/Reading/" class="md-nav__link">
        Further Reading
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_3" tabindex="0" aria-expanded="true">
          BQN
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="BQN" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          BQN
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../basic-syntax-and-arithmetic/" class="md-nav__link">
        Basic syntax
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../fns-and-assignment/" class="md-nav__link">
        Functions and Assignment
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Array Logic and Data-driven Conditionals
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Array Logic and Data-driven Conditionals
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#logic-and-conditions" class="md-nav__link">
    Logic and conditions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-shape-of-data" class="md-nav__link">
    The shape of data
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shape-and-deshape" class="md-nav__link">
    Shape and Deshape
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-table-modifier" class="md-nav__link">
    The table modifier
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#replicatecompress" class="md-nav__link">
    Replicate/Compress
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#indexing" class="md-nav__link">
    Indexing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#problem-set-3" class="md-nav__link">
    Problem set 3
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" tabindex="0" aria-expanded="false">
          J
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="J" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          J
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../j/basic-syntax-and-arithmetic/" class="md-nav__link">
        Basic syntax
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../j/verbs-and-assignment/" class="md-nav__link">
        Verbs and Assignment
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" tabindex="0" aria-expanded="false">
          K
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="K" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          K
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../k/basic-syntax-and-arithmetic/" class="md-nav__link">
        Basic syntax
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../k/verbs-and-assignment/" class="md-nav__link">
        Verbs and Assignment
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#logic-and-conditions" class="md-nav__link">
    Logic and conditions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-shape-of-data" class="md-nav__link">
    The shape of data
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shape-and-deshape" class="md-nav__link">
    Shape and Deshape
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-table-modifier" class="md-nav__link">
    The table modifier
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#replicatecompress" class="md-nav__link">
    Replicate/Compress
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#indexing" class="md-nav__link">
    Indexing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#problem-set-3" class="md-nav__link">
    Problem set 3
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="array-logic-and-data-driven-conditionals">Array Logic and Data-driven Conditionals</h1>
<h2 id="logic-and-conditions">Logic and conditions</h2>
<p>BQN has logical and comparison functions as in-built primitives. Much like the arithmetic, these symbols are like those used in conventional notation.</p>
<div class="center language-BQN">
<div class="displayBox">
<a class="glyph" title="Less than"><code>&lt;</code></a>
<a class="glyph" title="Less than or equal to"><code>≤</code></a>
<a class="glyph" title="Equals"><code>=</code></a>
<a class="glyph" title="Not equals"><code>≠</code></a>
<a class="glyph" title="Greater than or equal to"><code>≥</code></a>
<a class="glyph" title="Greater than"><code>&gt;</code></a>
<a class="glyph" title="Logical AND"><code>∧</code></a>
<a class="glyph" title="Logical OR"><code>∨</code></a>
<a class="glyph" title="Logical NAND"><code>⍲</code></a>
<a class="glyph" title="Logical NOR"><code>⍱</code></a>
<a class="glyph" title="Logical NOT"><code>~</code></a>
</div>
</div>
<p>Some of these are more general mathematical functions which happen to be the same as logical functions when used with Booleans (<code>1</code>s and <code>0</code>s). Unlike APL, in BQN the <code>∧</code> and <code>∨</code> primitives do not provide LCM and GCD respectively (see <a href="https://mlochbaum.github.io/BQN/doc/logic.html#why-not-gcd-and-lcm">Why not GCD and LCM?</a> for details).</p>
<p><pre class="highlight"><code class="language-BQN">   0‿1‿0‿1 ∧ 0‿0‿1‿1   # Logical AND</code></pre>
<pre class="highlight"><code>⟨ 0 0 0 1 ⟩</code></pre></p>
<hr />
<p><pre class="highlight"><code class="language-BQN">   0‿1‿0‿1 ∨ 0‿0‿1‿1   # Logical OR</code></pre>
<pre class="highlight"><code>⟨ 0 1 1 1 ⟩</code></pre></p>
<hr />
<p><pre class="highlight"><code class="language-BQN">   'P' ≠ 'Q'           # Not equal to</code></pre>
<pre class="highlight"><code>1</code></pre></p>
<hr />
<p><pre class="highlight"><code class="language-BQN">   0‿1‿0‿1 ≠ 0‿0‿1‿1   # Logical XOR </code></pre>
<pre class="highlight"><code>⟨ 0 1 1 0 ⟩</code></pre></p>
<details class="info">
<summary>Logic Functions</summary>
<p>The <a href="https://en.wikipedia.org/wiki/Truth_table#Binary_operations">16 possible logic functions for two binary variables</a> can all be expressed succinctly in BQN. The following explanation and table have been adapted from an APL version found in <a href="https://nbviewer.org/github/Dyalog/dyalog-jupyter-notebooks/blob/master/Boolean%20Scans%20and%20Reductions.ipynb#Sixteen-logical-functions">this notebook</a>.</p>
<p>The binary column here represets the output of the logic gate for all combinations of two 1-bit inputs — also known as the truth table. For example, the truth table for an OR gate:</p>
<blockquote>
<pre class="highlight"><code>   0‿0‿1‿1 ∨ 0‿1‿0‿1
</code></pre>
<p>⟨ 0 1 1 1 ⟩</p>
<pre class="highlight"><code>   +´(⌽2⋆↕4)⊸× 0‿1‿1‿1
</code></pre>
<p>7</p>
</blockquote>
<p><table>
  <thead>
    <tr>
      <th>Binary</th>
      <th>Decimal <code>+´(⌽2⋆↕4)⊸×</code></th>
      <th>Function <code>𝔽</code></th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>0 0 0 0</code></td>
      <td><code>0</code></td>
      <td><code>0˙</code></td>
      <td>FALSE</td>
    </tr>
    <tr>
      <td><code>0 0 0 1</code></td>
      <td><code>1</code></td>
      <td><code>∧</code></td>
      <td>AND</td>
    </tr>
    <tr>
      <td><code>0 0 1 0</code></td>
      <td><code>2</code></td>
      <td><code>&gt;</code></td>
      <td>Left but not right</td>
    </tr>
    <tr>
      <td><code>0 0 1 1</code></td>
      <td><code>3</code></td>
      <td><code>⊣</code></td>
      <td>Left</td>
    </tr>
    <tr>
      <td><code>0 1 0 0</code></td>
      <td><code>4</code></td>
      <td><code>&lt;</code></td>
      <td>Right but not left</td>
    </tr>
    <tr>
      <td><code>0 1 0 1</code></td>
      <td><code>5</code></td>
      <td><code>⊢</code></td>
      <td>Right</td>
    </tr>
    <tr>
      <td><code>0 1 1 0</code></td>
      <td><code>6</code></td>
      <td><code>≠</code></td>
      <td>Exclusive OR</td>
    </tr>
    <tr>
      <td><code>0 1 1 1</code></td>
      <td><code>7</code></td>
      <td><code>∨</code></td>
      <td>OR</td>
    </tr>
    <tr>
      <td><code>1 0 0 0</code></td>
      <td><code>8</code></td>
      <td><code>¬∨</code></td>
      <td>NOR</td>
    </tr>
    <tr>
      <td><code>1 0 0 1</code></td>
      <td><code>9</code></td>
      <td><code>=</code></td>
      <td>Exclusive NOR</td>
    </tr>
    <tr>
      <td><code>1 0 1 0</code></td>
      <td><code>10</code></td>
      <td><code>¬⊢</code></td>
      <td>Not right</td>
    </tr>
    <tr>
      <td><code>1 0 1 1</code></td>
      <td><code>11</code></td>
      <td><code>≥</code></td>
      <td>Left OR Not right</td>
    </tr>
    <tr>
      <td><code>1 1 0 0</code></td>
      <td><code>12</code></td>
      <td><code>¬⊣</code></td>
      <td>Not left</td>
    </tr>
    <tr>
      <td><code>1 1 0 1</code></td>
      <td><code>13</code></td>
      <td><code>≤</code></td>
      <td>Right OR Not left</td>
    </tr>
    <tr>
      <td><code>1 1 1 0</code></td>
      <td><code>14</code></td>
      <td><code>¬∧</code></td>
      <td>NAND</td>
    </tr>
    <tr>
      <td><code>1 1 1 1</code></td>
      <td><code>15</code></td>
      <td><code>1˙</code></td>
      <td>TRUE</td>
    </tr>
  </tbody>
</table></p>
</details>
<h2 id="the-shape-of-data">The shape of data</h2>
<p>One of the distinguishing features of BQN is the multidimensional array. Single elements, lists and tables are quite familiar constructs.</p>
<p>Tables are very useful for representing data which is related in some way. For example, let's say that the price of oranges changes daily. We can represent a week of prices as a 7-element numeric list.</p>
<pre class="highlight"><code class="language-BQN">   0.35‿0.3‿0.33‿0.32‿0.39‿0.33‿0.36</code></pre>
<p>How about the amount spent on 3 items? We could store this in 3 separate lists, but it is convenient to keep it in a table with 3 rows and 7 columns.</p>
<p>The <dfn>reshape</dfn> function <code>𝕨⥊𝕩</code> takes data from <code>𝕩</code> and uses it to fill out an array of shape <code>𝕨</code>, one row at a time.</p>
<p><pre class="highlight"><code class="language-BQN">   cost ← 3‿7⥊4.36‿4.22‿4.05‿4.14‿4.18‿4.19‿4.02‿2.79‿2.58‿2.68‿2.77‿2.88‿2.79‿2.52‿3.07‿3‿3.13‿3‿3.24‿3.06‿3.29</code></pre>
<pre class="highlight"><code>┌─                                    
╵ 4.36 4.22 4.05 4.14 4.18 4.19 4.02  
  2.79 2.58 2.68 2.77 2.88 2.79 2.52  
  3.07    3 3.13    3 3.24 3.06 3.29  
                                     ┘</code></pre></p>
<p>So what is this table that we have created? In other languages, there are lists, and there are lists of lists. In BQN, a list of lists is not the same thing as a table (also known as a matrix). BQN arrays contain two essential pieces of information: their shape and their list of elements.</p>
<p>The <dfn>shape</dfn> function <code>≢𝕩</code> returns the shape of its argument.</p>
<pre class="highlight"><code class="language-BQN">   ≢4‿12‿31
3</code></pre>
<p>The following table lists the <dfn>rank</dfn> (number of dimensions), some common names, and a geometric analogy for the three simplest types of multidimensional arrays.</p>
<table>
<thead>
<tr>
<th>Rank</th>
<th>Name</th>
<th>Geometric analogy</th>
<th>diagram</th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="arithmatex">\(0\)</span></td>
<td>scalar</td>
<td>point</td>
<td><img alt="point geometry diagram" src="../../img/point.svg" /></td>
</tr>
<tr>
<td><span class="arithmatex">\(1\)</span></td>
<td>vector or list</td>
<td>line</td>
<td><img alt="line geometry diagram" src="../../img/line.svg" /></td>
</tr>
<tr>
<td><span class="arithmatex">\(2\)</span></td>
<td>matrix or table</td>
<td>rectangle</td>
<td><img alt="rectangle geometry diagram" src="../../img/rectangle.svg" /></td>
</tr>
</tbody>
</table>
<p>Arrays with <span class="arithmatex">\(3\)</span> or more dimensions are sometimes called <dfn>cube</dfn> or <dfn>cuboid</dfn>, but they are generally referred to as <dfn>N-dimensional arrays</dfn>, <dfn>rank-N arrays</dfn> or <dfn>high rank arrays</dfn>. Arrays of rank greater than <span class="arithmatex">\(3\)</span> are sometimes called <dfn>noble arrays</dfn>.</p>
<p>For our <code>cost</code> matrix, the total spent on each item is a row-wise sum, or put a different way, the sum of each major cell:
<pre class="highlight"><code class="language-BQN">   +´˘cost    # The total cost over the week</code></pre>
<pre class="highlight"><code>⟨ 29.16 19.009999999999998 21.79 ⟩</code></pre></p>
<hr />
<p><pre class="highlight"><code class="language-BQN">   ≢+´˘cost   # For 3 items. Shape is always an array.</code></pre>
<pre class="highlight"><code>⟨ 3 ⟩</code></pre></p>
<p>The total for each day across all items is a column-wise sum:</p>
<p><pre class="highlight"><code class="language-BQN">   +˝cost    # The total cost of 3 items</code></pre>
<pre class="highlight"><code>⟨ 10.219999999999999 9.8 9.86 9.91 10.3 10.04 9.83 ⟩</code></pre></p>
<hr />
<p><pre class="highlight"><code class="language-BQN">   ≢+˝cost   # Over 7 days</code></pre>
<pre class="highlight"><code>⟨ 7 ⟩</code></pre></p>
<h2 id="shape-and-deshape">Shape and Deshape</h2>
<p>When called monadically, the <code>⥊</code> primitive is called <dfn>deshape</dfn>. It removes shape information from the array and lays out all the elements in a vector in index order.</p>
<p><pre class="highlight"><code class="language-BQN">   abc ← 'A' + ↕26
   3‿3⥊abc</code></pre>
<pre class="highlight"><code>┌─     
╵"ABC  
  DEF  
  GHI" 
      ┘</code></pre></p>
<hr />
<p><pre class="highlight"><code class="language-BQN">   ⥊3‿3⥊abc</code></pre>
<pre class="highlight"><code>ABCDEFGHI</code></pre></p>
<h2 id="the-table-modifier">The table modifier</h2>
<p>The <dfn>table</dfn> modifier <code>⌜</code> applies its function operand <code>𝔽</code> between all combinations of elements of its left and right argument arrays. Quoting <a href="https://mlochbaum.github.io/BQN/doc/map.html#table">BQN's documentation</a>, table is "like a structure-preserving and function-applying <a href="https://en.wikipedia.org/wiki/Cartesian_product">Cartesian</a> product," and is similar to APL's outer product.</p>
<p><pre class="highlight"><code class="language-BQN">   F ← {𝕨+𝕩}
   1‿2‿3 F⌜ 10‿20‿30</code></pre>
<pre class="highlight"><code>┌─          
╵ 11 21 31  
  12 22 32  
  13 23 33  
           ┘</code></pre></p>
<p>For example, the join function <code>∾</code>  will join two lists together. We can use the table modifier to join combinations of words from two lists. </p>
<p><pre class="highlight"><code class="language-BQN">   1 4 9 , 6 5 4</code></pre>
<pre class="highlight"><code>1 4 9 6 5 4</code></pre></p>
<hr />
<p><pre class="highlight"><code class="language-BQN">   "joined up" ∾ "text vectors"</code></pre>
<pre class="highlight"><code>"joined uptext vectors"
 </code></pre></p>
<hr />
<p><pre class="highlight"><code class="language-BQN">   "chicken"‿"pork"‿"vegetable" ∾⌜ " chow mein"‿" with cashew nuts"</code></pre>
<pre class="highlight"><code>┌─                                                    
╵ "chicken chow mein"   "chicken with cashew nuts"    
  "pork chow mein"      "pork with cashew nuts"       
  "vegetable chow mein" "vegetable with cashew nuts"  
                                                     ┘</code></pre></p>
<div class="admonition question">
<p class="admonition-title">What are those boxes around the output?</p>
<p>In BQN, any value can be used an array element, including others arrays. The next section on <a href="./multidimensional-and-nested-arrays.md">multidimensional and nested arrays</a> introduces them in more detail.</p>
</div>
<h2 id="replicatecompress">Replicate/Compress</h2>
<p>The <dfn>replicate</dfn> function <code>𝕨/𝕩</code> repeats each major cell in <code>𝕩</code> the corresponding number of times specified in <code>𝕨</code>.</p>
<p><pre class="highlight"><code class="language-BQN">   1‿2‿3/"ABC"</code></pre>
<pre class="highlight"><code>"ABBCCC"</code></pre></p>
<hr />
<p><pre class="highlight"><code class="language-BQN">   a ← 2‿3⥊"APLBQN"</code></pre>
<pre class="highlight"><code>┌─     
╵"APL  
  BQN" 
      ┘</code></pre></p>
<hr />
<p><pre class="highlight"><code class="language-BQN">   1‿2/a</code></pre>
<pre class="highlight"><code>┌─     
╵"APL  
  BQN  
  BQN" 
      ┘</code></pre></p>
<p>??? Why is this different than APL?
    BQN's replicate behaves differently than APL's. BQN's replicate repeats each <em>major cell.</em></p>
<pre class="highlight"><code>To replicate (go ahead, roll your eyes) APL's behavior in BQN, we have to modify the replicate function to be applied to each major cell:

```BQN
   b /⎉1 a  # Specifying rank of 1
   b⊸/˘a    # Using the cells modifier
```
```
┌─        
╵"APPLLL  
  BQQNNN" 
         ┘
```

We'll cover the rank and cells primitives in later lessons.

</code></pre>
<p>When used with a Boolean array, the replicate function acts like <dfn>filter</dfn>.</p>
<p><pre class="highlight"><code class="language-BQN">   0‿1‿0‿0‿1‿0/"APLBQN"</code></pre>
<pre class="highlight"><code>Y
O</code></pre></p>
<h2 id="indexing">Indexing</h2>
<p>In many other programming languages, "<a href="https://www.bbc.co.uk/bitesize/guides/zh66pbk/revision/3">selection</a>" is used to describe control structures such as "<a href="https://en.wikipedia.org/wiki/Conditional_(computer_programming)#If%E2%80%93then(%E2%80%93else)">if then else</a>" or "<a href="https://en.wikipedia.org/wiki/Conditional_(computer_programming)#Case_and_switch_statements">switch case</a>". In BQN, we can get a similar effect by literally "selecting" elements from arrays.</p>
<p>The two means of selection here are the <dfn>select</dfn> function <code>⊏</code> and the filtering usage of replicate which we saw earlier.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Indexing starts from 0 by default, unlike APL which starts from 1 by default.</p>
</div>
<p><pre class="highlight"><code class="language-BQN">   0‿7‿10⊏"BOILED QUINOA"</code></pre>
<pre class="highlight"><code>BQN</code></pre></p>
<hr />
<p><pre class="highlight"><code class="language-BQN">   / 1‿0‿0‿1‿0‿1</code></pre>
<pre class="highlight"><code>⟨ 0 3 5 ⟩</code></pre></p>
<hr />
<p><pre class="highlight"><code class="language-BQN">   IsDivisibleBy ← {0=𝕩|𝕨}
   3‿6‿8‿5‿2 IsDivisibleBy 2</code></pre>
<pre class="highlight"><code>⟨ 0 1 1 0 1 ⟩</code></pre></p>
<hr />
<p><pre class="highlight"><code class="language-BQN">   3‿6‿8‿5‿2 {(𝕨 IsDivisibleBy 𝕩)/𝕨} 2</code></pre>
<pre class="highlight"><code>⟨ 6 8 2 ⟩</code></pre></p>
<h2 id="problem-set-3">Problem set 3</h2>
<ol>
<li>
<p>Define the numeric vector <code>nums</code></p>
<pre class="highlight"><code class="language-BQN">   nums ← 3‿5‿8‿2‿1</code></pre>
<ol>
<li>Using <code>nums</code>, define <code>mat</code></li>
</ol>
<p><pre class="highlight"><code class="language-BQN">   mat</code></pre>
<pre class="highlight"><code>┌─       
╵ 3 5 8  
  2 1 3  
        ┘</code></pre></p>
<ol>
<li>Using <code>mat</code>, define <code>stack</code></li>
</ol>
<p><pre class="highlight"><code class="language-BQN">   stack</code></pre>
<pre class="highlight"><code>┌─       
╵ 3 5 8  
  2 1 3  
  3 5 8  
  2 1 3  
        ┘</code></pre></p>
<ol>
<li>Using <code>mat</code>, define <code>wide</code></li>
</ol>
<p><pre class="highlight"><code class="language-BQN">   wide</code></pre>
<pre class="highlight"><code>┌─             
╵ 3 5 8 3 5 8  
  2 1 3 2 1 3  
              ┘</code></pre></p>
<details class="example">
<summary>Answers</summary>
<p><ol type="a">
<li>
<pre class="highlight"><code class="language-BQN">   mat ← 2‿3⥊nums</code></pre>
</li>
<li>
<pre class="highlight"><code class="language-BQN">   stack ← 2/mat</code></pre>
</li>
<li>
<pre class="highlight"><code class="language-BQN">   wide ← mat(∾⎉1)mat</code></pre>
</li>
</ol></p>
</details>
</li>
<li>
<p>Why does <code>101="101"</code> evaluate to a 3-element list?</p>
<details class="example">
<summary>Answer</summary>
<p><code>101</code> is a literal single number (a scalar), whereas <code>"101"</code> is a literal 3-element character vector.</p>
<p>Due to <a href="../basic-syntax-and-arithmetic/#singleton-extension">singleton extension</a>, <code>101="101"</code> compares the single number <code>101</code> to each of the 3 characters in the 3-element character vector <code>"101"</code>. The character vector <code>"101"</code> is equivalent to <code>'1'‿'0'‿'1'</code> but the number <code>101</code> is not the same as the 3-element numeric vector <code>1‿0‿1</code>.</p>
</details>
</li>
<li>
<p>Write a function <code>PassFail</code> which takes an array of scores and returns an array of the same shape in which <code>F</code> corresponds to a score less than 40 and <code>P</code> corresponds to a score of 40 or more.</p>
<p><pre class="highlight"><code class="language-BQN">   PassFail 35‿40‿45</code></pre>
<pre class="highlight"><code>"FPP"</code></pre></p>
<hr />
<p><pre class="highlight"><code class="language-BQN">   PassFail 2‿5⥊89‿77‿15‿49‿72‿54‿25‿18‿57‿53</code></pre>
<pre class="highlight"><code>┌─       
╵"PPFPP  
  PFFPP" 
        ┘</code></pre></p>
<details class="example">
<summary>Answer</summary>
<pre class="highlight"><code class="language-BQN">   PassFail ← {(𝕩≥40)⊏"FP"}</code></pre>
</details>
</li>
<li>
<p>This problem is taken from the <a href="https://www.dyalog.com/student-competition.htm">2019 APL Problem Solving Competition</a>.</p>
<p>A Grille is a square sheet with holes cut out of it which, when laid on top of a similarly-sized character matrix, reveals a hidden message.</p>
<p><img alt="The application of a grille to a character grid" src="../../img/Grille.png" /></p>
<p>Write a BQN function <code>DecodeGrille</code> which:</p>
<ul>
<li>takes a character matrix left argument where a hash <code>'#'</code> represents opaque material and a space <code>' '</code> represents a hole.</li>
<li>takes a character matrix of the same shape as right argument</li>
<li>returns the hidden message as a character vector</li>
</ul>
<p><pre class="highlight"><code class="language-BQN">   (2‿2⥊"# # ") DecodeGrille 2‿2⥊"LHOI"</code></pre>
<pre class="highlight"><code>"HI"</code></pre></p>
<hr />
<p><pre class="highlight"><code class="language-BQN">   grid   ← 5‿5⥊"VRYIALCLQIFKNEVPLBRKMQNFF"
   grille ← 5‿5⥊"⌺⌺⌺ ⌺ ⌺⌺⌺ ⌺ ⌺ ⌺⌺⌺ ⌺⌺⌺  ⌺⌺"
   grid ⋈ grille</code></pre>
<pre class="highlight"><code>┌─                     
· ┌─        ┌─         
  ╵"VRYIA   ╵"⌺⌺⌺ ⌺    
    LCLQI      ⌺⌺⌺     
    FKNEV     ⌺ ⌺ ⌺    
    PLBRK     ⌺⌺ ⌺⌺    
    MQNFF"    ⌺  ⌺⌺"   
          ┘         ┘  
                      ┘</code></pre></p>
<hr />
<p><pre class="highlight"><code class="language-BQN">   grille DecodeGrille grid</code></pre>
<pre class="highlight"><code>"ILIKEBQN"</code></pre></p>
<details class="example">
<summary>Answer</summary>
<p>We can take an approach that uses <strong>Select</strong> <code>𝕨⊏𝕩</code> or an approach that uses <strong>Group</strong> <code>𝕨⊔𝕩</code>.</p>
<p>The Select function <code>⊏</code> supports its left argument being a boolean mask, but requires that mask to be a rank-1 array. This means we have to deshape both of our arrays before selecting:</p>
<pre class="highlight"><code class="language-BQN">   DecodeGrille ← {(' '=⥊𝕨)/⥊𝕩}</code></pre>
<p>Here are two ways to read the above in English:</p>
<p>"Replicate items in the deshaped right argument according to the indices of space characters in the left argument."</p>
<p>"Keep items from the flattened right argument at the same indices where the flattened left argument has space characters."</p>
<p>Alternatively, we can create a boolean mask of the same shape as the original grille and use that as the left argument to Group <code>⊔</code>. The Group function will then bucket items from its right argument (our grid) according to whether the left argument has a <code>0</code> or a <code>1</code> at that same spot.</p>
<pre class="highlight"><code class="language-BQN">Grille ← {1⊑(grille=' ')⊔grid}</code></pre>
<p>Group returns an array of its groupings. We therefore have to grab the one-th item, because "indices that match a space" will have a value of <code>1</code> in the left argument, and thus values from the right argument at those spots will be grouped under index <code>1</code>.</p>
<p>In English: "Take the one-th value from the grouping of items in the right argument at indices where the left argument has space characters."</p>
</details>
</li>
<li>
<p>Back to School</p>
<ol>
<li>
<p>Write a function to produce the multiplication table from <code>1</code> to <code>𝕩</code>. </p>
<p><pre><code class="language-BQN">      MulTable 7</code></pre>
<pre><code class="language-BQN">┌─                   <br />
╵ 1  2  3  4  5  6  7<br />
  2  4  6  8 10 12 14<br />
  3  6  9 12 15 18 21<br />
  4  8 12 16 20 24 28<br />
  5 10 15 20 25 30 35<br />
  6 12 18 24 30 36 42<br />
  7 14 21 28 35 42 49<br />
                      ┘</code></pre></p>
</li>
<li>
<p>Write a function to produce the addition table from <code>0</code> to <code>𝕩</code>.</p>
<p><pre><code class="language-BQN">      AddTable 6</code></pre>
<pre><code class="language-BQN">┌─            <br />
╵ 0 1 2 3 4  5<br />
  1 2 3 4 5  6<br />
  2 3 4 5 6  7<br />
  3 4 5 6 7  8<br />
  4 5 6 7 8  9<br />
  5 6 7 8 9 10<br />
               ┘</code></pre></p>
</li>
</ol>
<details class="example">
<summary>Answers</summary>
<p><ol type="a">
<li></p>
<pre class="highlight"><code class="language-BQN">   MulTable ← {(1+↕𝕩)×⌜1+↕𝕩}</code></pre>
<p>Avoid repeating yourself by assigning values to a name (<code>nums</code> in this example):</p>
<pre class="highlight"><code class="language-BQN">   MulTable ← {nums←1+↕𝕩 ⋄ nums×⌜nums}</code></pre>
<p>Or, if left and right arguments to a dyadic function are the same, use the modifier <dfn>Self</dfn> <code>F˜𝕩</code> which takes one argument <code>𝕩</code> and passes it as both the left and right arguments to the function <code>F</code> it modifies:</p>
<pre class="highlight"><code class="language-BQN">   MulTable ← {×⌜˜1+↕𝕩}</code></pre>
<p></li>
<li></p>
<p>Using the same three styles as described in part <strong>(a)</strong> above:</p>
<pre class="highlight"><code class="language-BQN">   AddTable ← {(↕𝕩)+⌜↕𝕩}
   AddTable ← {nums←↕𝕩 ⋄ nums+⌜nums}
   AddTable ← {+⌜˜↕𝕩}</code></pre>
<p></li>
</ol></p>
</details>
</li>
<li>
<p>Making the Grade</p>
<p><table id="gradeBoundaryTable" style="border-top: none;">
<tbody>
<tr>
<td><strong>Score Range</strong></td>
<td><code>0-64</code></td>
<td><code>65-69</code></td>
<td><code>70-79</code></td>
<td><code>80-89</code></td>
<td><code>90-100</code></td>
</tr>
<tr>
<td><strong>Letter Grade</strong></td>
<td>F</td>
<td>D</td>
<td>C</td>
<td>B</td>
<td>A</td>
</tr>
</tbody>
</table></p>
<p>Write a function that, given an array of integer test scores in the inclusive range 0 to 100, returns a list of letter grades according to the table above.</p>
<p><pre><code class="language-BQN">   Grade 0‿10‿75‿78‿85</code></pre>
<pre><code class="language-BQN">"FFCCB"</code></pre></p>
<details class="example">
<summary>Answer</summary>
<p>Use the table modifier to compare all combinations of the lower bounds and the scores. The column-wise sum then tells us which "bin" each score belongs to:</p>
<pre class="highlight"><code class="language-BQN">Grade ← {(1-˜+˝0‿65‿70‿80‿90≤⌜𝕩)⊏"FDCBA"}</code></pre>
<p>Remembering that comparisons like <code>≤</code> return either <code>0</code> or <code>1</code>, this can be read in English as: Select the characters from <code>"FDCBA"</code> at the indices calculated by subtracting 1 from the column-wise sums of the comparison of the lowest-acceptable scores for each letter grade to the actual score.</p>
<p>In the above solution, we've used the swap modifier <code>˜</code> with <code>-</code> to avoid parentheses. We can get rid of all parenthese with one more: <code>Grade ← {"FDCBA"⊏˜1-˜+˝0‿65‿70‿80‿90≤⌜𝕩}</code></p>
</details>
</li>
<li>
<p>Analysing text</p>
<ol>
<li>
<p>Write a function test if there are any vowels <code>'aeiou'</code> in text vector <code>⍵</code></p>
<pre class="highlight"><code class="language-BQN">   AnyVowels "this text is made of characters"
1
   AnyVowels "bgxkz"
0</code></pre>
</li>
<li>
<p>Write a function to count the number of vowels in its character vector argument <code>⍵</code></p>
<p><pre class="highlight"><code class="language-BQN">      CountVowels "this text is made of characters"</code></pre>
<pre class="highlight"><code>9</code></pre></p>
<hr />
<p><pre class="highlight"><code class="language-BQN">      CountVowels "we have twelve vowels in this sentence"</code></pre>
<pre class="highlight"><code>12</code></pre></p>
</li>
<li>
<p>Write a function to remove the vowels from its argument</p>
<pre class="highlight"><code class="language-BQN">      RemoveVowels "this text is made of characters"
"ths txt s md f chrctrs"</code></pre>
</li>
</ol>
<details class="example">
<summary>Answers</summary>
<p>TODO Consider whether this tabling is helpful, or just use membership.
<ol type="a">
<li>
With two <em>or-reductions</em>, we ask "are there any <code>1</code>s in each row?" Then, "are there any <code>1</code>s in any of the rows?"</p>
<pre class="highlight"><code class="language-APL">AnyVowels ← {∨/∨/'aeiou'∘.=⍵}</code></pre>
<p>Or we can ravel the contents of the array into a vector to perform one big or-reduction across all elements:</p>
<pre class="highlight"><code class="language-APL">AnyVowels ← {∨/,'aeiou'∘.=⍵}</code></pre>
<p></li>
<li></p>
<p>Similar techniques can be used for counting the ones:</p>
<pre class="highlight"><code class="language-APL">CountVowels ← {+/+/'aeiou'∘.=⍵}
CountVowels ← {+/,'aeiou'∘.=⍵}</code></pre>
<p>Because we are comparing a single vector, +⌿ and ∨⌿ both tell us if there is any vowel in that position:</p>
<pre class="highlight"><code class="language-APL">CountVowels ← {+/+⌿'aeiou'∘.=⍵}
CountVowels ← {+/∨⌿'aeiou'∘.=⍵}</code></pre>
<p></li>
<li>
To remove vowels, we must consider the columns of our outer product equality. We then keep elements which are not <code>~⍵</code> vowels.</p>
<pre class="highlight"><code class="language-APL">RemoveVowels ← {⍵/⍨~∨⌿'aeiou'∘.=⍵}</code></pre>
<p>Or rows if the arguments to our outer product are swapped:</p>
<pre class="highlight"><code class="language-APL">RemoveVowels ← {⍵/⍨~∨/'aeiou'∘.=⍵}</code></pre>
<p>Since we are compressing elements out of a vector, we can use either replicate <code>⍺/⍵</code> or replicate-first <code>⍺⌿⍵</code>. This is because a vector only has a single dimension, or axis, and that axis is both the first and the last.</p>
<pre class="highlight"><code class="language-APL">RemoveVowels ← {⍵/⍨∨⌿'aeiou'∘.=⍵}
RemoveVowels ← {⍵⌿⍨∨⌿'aeiou'∘.=⍵}</code></pre>
</li>
</details>
</li>
<li>
<p>Matching shapes</p>
<ol>
<li>
<p>Write a function to add a vector <code>⍵</code> to each row of a matrix <code>⍺</code>:</p>
<pre class="highlight"><code class="language-APL">      (3 2⍴1 100) AddRows 1 9
2 109
2 109
2 109
      (5 3⍴1 10 100 1000) AddRows 5 10 15
6   20  115
1005   11   25
105 1010   16
15  110 1015
6   20  115</code></pre>
</li>
<li>
<p>Write a function to add a vector to each row of a matrix, regardless of the order in which they are supplied:</p>
<pre class="highlight"><code class="language-APL">      1 9 AddRows 3 2⍴1 100
2 109
2 109
2 109
      (2 2⍴1 9 11 18) AddRows 9 1
10 10
20 19</code></pre>
</li>
</ol>
<details class="example">
<summary>Answers</summary>
<p><ol type="a">
<li>
Reshape recycles elements. We can use this to duplicate rows until we have the correct shape to allow <code>+</code> to map between elements for us:
<pre class="highlight"><code class="language-APL">AddRows ← {⍵+(⍴⍵)⍴⍺}</code></pre>
</li>
<li>
Finding the maximum shape is a more general solution:
<pre class="highlight"><code class="language-APL">AddRows ← {s←(⍴⍺)⌈⍴⍵ ⋄ (s⍴⍺)+s⍴⍵}</code></pre></p>
<p>This way of applying functions between arrays of different shapes is very common. As with many things in this course, eventually we will discover more elegant methods. Here is an example of using <a href="./cells-and-axes.md#the-rank-operator">the rank operator</a>:</p>
<p><pre class="highlight"><code class="language-APL">AddRows ← +⍤1</code></pre>
</li>
</ol></p>
</details>
</li>
<li>
<p>These are the heights of some students in 3 classes.
    <pre class="highlight"><code class="language-APL">student ← 10 7⍴'Kane   Jonah  JessicaPadma  Katie  CharlieAmil   David  Zara   Filipa '
class ← 'CBACCCBBAB'
height ← 167 177 171 176 178 164 177 177 173 160</code></pre></p>
<p>Use APL to:</p>
<ol>
<li>Find the height of the tallest student</li>
<li>Find the name of the tallest student</li>
<li>Find the class to which the tallest student belongs  </li>
<li>Find the average height of students in class <code>B</code></li>
</ol>
<details class="example">
<summary>Answers</summary>
<p><ol type="a">
<li>
<pre class="highlight"><code class="language-APL">      ⌈/height
178</code></pre>
</li>
<li>
<pre class="highlight"><code class="language-APL">      (height=⌈/height)⌿student
Katie</code></pre>
</li>
<li>
<pre class="highlight"><code class="language-APL">      (height=⌈/height)⌿class
C</code></pre></p>
<p>You might have tried to use indexing and gotten an error:</p>
<pre class="highlight"><code class="language-APL">RANK ERROR
        student[⍸height=⌈/height]
                ∧</code></pre>
<p>There is <a href="./selecting-from-arrays.md#square-bracket-indexing">additional syntax</a> in order to select from matrices and higher rank arrays.</p>
<p></li>
<li>
We can use either compress or indexing to select from the <code>height</code> vector:
<pre class="highlight"><code class="language-APL">      Mean ← {(+/⍵)÷≢⍵}
      Mean (class='B')/height
172.75
      Mean height[⍸class='B']
172.75</code></pre>
</li>
</ol></p>
</details>
</li>
<li>
<p>Optimus Prime</p>
<p>A prime number is a positive whole number greater than <span class="arithmatex">\(1\)</span> which can be divided only by itself and <span class="arithmatex">\(1\)</span> with no remainder.</p>
<p>Write a dfn which returns all of the prime numbers between <code>1</code> and <code>⍵</code>.</p>
<p><pre class="highlight"><code class="language-APL">      Primes 10</code></pre>
<pre class="highlight"><code>2 3 5 7</code></pre></p>
<hr />
<p><pre class="highlight"><code>      Primes 30</code></pre>
<pre class="highlight"><code>2 3 5 7 11 13 17 19 23 29</code></pre></p>
<details class="example">
<summary>Answer</summary>
<pre class="highlight"><code class="language-APL">Primes ← {⍸2=+⌿0=∘.|⍨⍳⍵}</code></pre>
<p>An alternative coding uses the multiplication table:</p>
<pre class="highlight"><code class="language-APL">Primes ← {i~∘.×⍨i←1↓⍳⍵}</code></pre>
<p>Of course, the outer product <code>∘.F</code> indicates that the number of calculations to compute both of these solutions increases with the square of the input size. We say they have a computational complexity "<em>of order n squared</em>" or <span class="arithmatex">\(O(n^2)\)</span> in <a href="https://en.wikipedia.org/wiki/Big_O_notation">big-O notation</a>. This is a very inefficient way to find prime numbers.
To see discussions around more efficient ways to compute prime numbers in APL, see <a href="https://dfns.dyalog.com/n_pco.htm">the dfns page on prime numbers</a>.</p>
</details>
</li>
</ol>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://github.com/semperos/ArrayLangCourse" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://danielgregoire.dev" target="_blank" rel="noopener" title="danielgregoire.dev" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8v2m9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.71-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5 5 5 0 0 0-5-5Z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://fosstodon.org/@semperos" target="_blank" rel="noopener" title="fosstodon.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.5 15.5a.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5v-7c0-1.93-2.07-3.5-4-3.5H6a4 4 0 0 0-4 4v10h4v-4h5v4h4v-4.5a.5.5 0 0 1 .5-.5.5.5 0 0 1 .5.5V16a3 3 0 0 0 3 3 3 3 0 0 0 3-3v-2h-2.5v1.5Z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant"], "search": "../../assets/javascripts/workers/search.e5c33ebb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.ba449ae6.min.js"></script>
      
        <script src="../../javascripts/config.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>